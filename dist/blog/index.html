<!DOCTYPE html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/></head><body><div id="PhenomicRoot"><div data-reactroot="" data-reactid="1" data-react-checksum="1159211837"><!-- react-empty: 2 --><header data-reactid="3"><div class="header" data-reactid="4"><div class="header-left" data-reactid="5"><div class="header-icon" data-reactid="6"><img src="/laforest-icon-144.png" data-reactid="7"/></div><h4 class="header-name" data-reactid="8">Scott LaForest</h4><p data-reactid="9">Web Developer</p></div><div class="header-right" data-reactid="10"><div style="display:inline-block;position:relative;" data-reactid="11"><button style="border:10px;box-sizing:border-box;display:inline-block;font-family:Roboto, sans-serif;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);cursor:pointer;text-decoration:none;margin:0;padding:12px;outline:none;font-size:0;font-weight:inherit;position:relative;z-index:1;overflow:visible;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;width:48px;height:48px;background:none;-moz-box-sizing:border-box;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;" tabindex="0" type="button" data-reactid="12"><div data-reactid="13"><span class="material-icons md-36" color="#FF5722" font-size="36px" style="color:#FF5722;position:relative;font-size:24px;display:inline-block;user-select:none;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;" data-reactid="14">menu</span></div></button><div style="display:none;" data-reactid="15"><!-- react-empty: 16 --><!-- react-empty: 17 --></div></div></div></div></header><div class="main-container" data-reactid="18"><div class="content" data-reactid="19"><h1 data-reactid="20">Web Dev Diary</h1><p data-reactid="21"><!-- react-text: 22 -->I love markdown and I use it as my notetaking document when I am learning something new. The best part is that I can then take my markdown files and render them as HTML. Thanks to Phenomic and react I can now render my markdown files as part of this blog. Each post is it<!-- /react-text --><!-- react-text: 23 -->&#x27;<!-- /react-text --><!-- react-text: 24 -->s own markdown file and is rendered as HTML automatically.<!-- /react-text --></p><ul style="padding:0px;" data-reactid="25"><li data-reactid="26"><div class="blogListItem" data-reactid="27"><h3 class="blogListTitle" data-reactid="28"><a href="/blog/2017-06-28" data-reactid="29">React-Tac-Toe Notes</a></h3><h3 class="blogListDate" data-reactid="30"><!-- react-text: 31 --> <!-- /react-text --><!-- react-text: 32 -->06/28/17<!-- /react-text --></h3><p class="blogListDesc" data-reactid="33">Notes from creating the react tic-tac-toe example from the Facebook tutorial. Includes controlled components, immutability, and how I added the optional upgrades listed at the bottom of the tutorial.</p></div><hr style="margin:0;margin-top:-1px;margin-left:0;height:1px;border:none;background-color:#e0e0e0;" data-reactid="34"/></li><li data-reactid="35"><div class="blogListItem" data-reactid="36"><h3 class="blogListTitle" data-reactid="37"><a href="/blog/2017-06-10" data-reactid="38">Learn with LaForest Notes</a></h3><h3 class="blogListDate" data-reactid="39"><!-- react-text: 40 --> <!-- /react-text --><!-- react-text: 41 -->06/10/17<!-- /react-text --></h3><p class="blogListDesc" data-reactid="42">Notes from my development of my classroom website. Includes service worker, CORS, and firebase gotchas.</p></div><hr style="margin:0;margin-top:-1px;margin-left:0;height:1px;border:none;background-color:#e0e0e0;" data-reactid="43"/></li><li data-reactid="44"><div class="blogListItem" data-reactid="45"><h3 class="blogListTitle" data-reactid="46"><a href="/blog/2017-06-08" data-reactid="47">You Don&#x27;t Know JS Part 6</a></h3><h3 class="blogListDate" data-reactid="48"><!-- react-text: 49 --> <!-- /react-text --><!-- react-text: 50 -->06/08/17<!-- /react-text --></h3><p class="blogListDesc" data-reactid="51">Notes on the sixth day of reading through You Don&#x27;t Know JS. Includes object creation.</p></div><hr style="margin:0;margin-top:-1px;margin-left:0;height:1px;border:none;background-color:#e0e0e0;" data-reactid="52"/></li><li data-reactid="53"><div class="blogListItem" data-reactid="54"><h3 class="blogListTitle" data-reactid="55"><a href="/blog/2017-06-06" data-reactid="56">You Don&#x27;t Know JS Part 5</a></h3><h3 class="blogListDate" data-reactid="57"><!-- react-text: 58 --> <!-- /react-text --><!-- react-text: 59 -->06/06/17<!-- /react-text --></h3><p class="blogListDesc" data-reactid="60">Notes on the fifth day of reading through You Don&#x27;t Know JS. Includes more on closure, more on modules, and a lot on this.</p></div><hr style="margin:0;margin-top:-1px;margin-left:0;height:1px;border:none;background-color:#e0e0e0;" data-reactid="61"/></li><li data-reactid="62"><div class="blogListItem" data-reactid="63"><h3 class="blogListTitle" data-reactid="64"><a href="/blog/2017-06-05" data-reactid="65">You Don&#x27;t Know JS Part 4</a></h3><h3 class="blogListDate" data-reactid="66"><!-- react-text: 67 --> <!-- /react-text --><!-- react-text: 68 -->06/05/17<!-- /react-text --></h3><p class="blogListDesc" data-reactid="69">Notes on the fourth day of reading through You Don&#x27;t Know JS. Includes strict mode, scope, and let.</p></div><hr style="margin:0;margin-top:-1px;margin-left:0;height:1px;border:none;background-color:#e0e0e0;" data-reactid="70"/></li></ul><a href="/after/MjAxNy0wNi0wMi0yMDE3LTA2LTAy" data-reactid="71">Older posts</a></div></div><footer data-reactid="72"><div class="footer" data-reactid="73"><div data-reactid="74"><!-- react-text: 75 -->Scott LaForest © <!-- /react-text --><!-- react-text: 76 -->2017<!-- /react-text --></div><div data-reactid="77"><!-- react-text: 78 -->Created with ❤ using  <!-- /react-text --><a href="https://phenomic.io/" style="color:inherit;" data-reactid="79">Phenomic</a></div><div data-reactid="80"><!-- react-text: 81 -->Check out the source code  <!-- /react-text --><a href="https://github.com/scottyla19/phenomic-portfolio" style="color:inherit;" data-reactid="82"><i class="fa fa-github" data-reactid="83"></i></a></div></div></footer></div></div><script id="PhenomicHydration" type="text/json">{"collection=posts&by=default&value=1&order=desc&limit=5":{"status":"idle","node":{"hasPreviousPage":false,"previousPageIsFirst":true,"previous":null,"hasNextPage":true,"next":"MjAxNy0wNi0wMi0yMDE3LTA2LTAy","list":[{"id":"2017-06-28","date":"06/28/17","title":"React-Tac-Toe Notes","desc":"Notes from creating the react tic-tac-toe example from the Facebook tutorial. Includes controlled components, immutability, and how I added the optional upgrades listed at the bottom of the tutorial.","tags":"React","author":"Scott LaForest","body":{"c":[{"c":[{"c":"#","p":{"href":"#react-tac-toe-notes","className":"phenomic-HeadingAnchor"},"t":"a"},"React-Tac-Toe Notes"],"p":{"id":"react-tac-toe-notes"},"t":"h1"},"\n",{"c":[{"c":"#","p":{"href":"#moving-state-upwards","className":"phenomic-HeadingAnchor"},"t":"a"},"Moving State Upwards"],"p":{"id":"moving-state-upwards"},"t":"h2"},"\n",{"c":["It is best to aggregate data from multiple children in the parent. For example move the data and logic from the square => board => game component. The parent can then pass the state back down via props. This keeps the state consistent throughout the components.\n.\nSquare no longer keeps its own state; it receives its value from its parent Board and informs its parent when it's clicked. We call components like this ",{"c":"controlled components","t":"strong"},"."],"t":"p"},"\n",{"c":[{"c":"#","p":{"href":"#why-immutability-is-important","className":"phenomic-HeadingAnchor"},"t":"a"},"Why Immutability Is Important"],"p":{"id":"why-immutability-is-important"},"t":"h2"},"\n",{"c":"In the previous code example, we suggest using the .slice() operator to copy the squares array prior to making changes and to prevent mutating the existing array. Let's talk about what this means and why it is an important concept to learn.","t":"p"},"\n",{"c":"There are generally two ways for changing data. The first method is to mutate the data by directly changing the values of a variable. The second method is to replace the data with a new copy of the object that also includes desired changes.","t":"p"},"\n",{"c":"Data change with mutation","t":"p"},"\n",{"c":{"c":"var player = {score: 1, name: 'Jeff'};\nplayer.score = 2;\n// Now player is {score: 2, name: 'Jeff'}\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":"Data change without mutation","t":"p"},"\n",{"c":{"c":"var player = {score: 1, name: 'Jeff'};\n\nvar newPlayer = Object.assign({}, player, {score: 2});\n// Now player is unchanged, but newPlayer is {score: 2, name: 'Jeff'}\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":"The end result is the same but by not mutating (or changing the underlying data) directly we now have an added benefit that can help us increase component and overall application performance.","t":"p"},"\n",{"c":[{"c":"Easier Undo/Redo and Time Travel","t":"strong"},"\nImmutability also makes some complex features much easier to implement. Avoiding data mutations lets us keep a reference to older versions of the data, and switch between them if we need to."],"t":"p"},"\n",{"c":[{"c":"Tracking Changes","t":"strong"},"\nDetermining if a mutated object has changed is complex because changes are made directly to the object. This then requires comparing the current object to a previous copy, traversing the entire object tree, and comparing each variable and value. This process can become increasingly complex."],"t":"p"},"\n",{"c":"Determining how an immutable object has changed is considerably easier. If the object being referenced is different from before, then the object has changed. That's it.","t":"p"},"\n",{"c":[{"c":"Determining When to Re-render in React","t":"strong"},"\nThe biggest benefit of immutability in React comes when you build simple pure components. Since immutable data can more easily determine if changes have been made it also helps to determine when a component requires being re-rendered."],"t":"p"},"\n",{"c":["We've removed the constructor, and in fact, React supports a simpler syntax called ",{"c":"functional components for component types like Square that only consist of a render method","t":"strong"},"."],"t":"p"},"\n",{"c":[{"c":"#","p":{"href":"#how-i-bold-ed-the-currently-selected-move","className":"phenomic-HeadingAnchor"},"t":"a"},"How I ",{"c":"bold","t":"strong"}," ed the currently selected move"],"p":{"id":"how-i-bold-ed-the-currently-selected-move"},"t":"h2"},"\n",{"c":["\n",{"c":["Added a ",{"c":"selectedMove","t":"code"}," property in ",{"c":"this.state","t":"code"}," in the constructor"],"t":"li"},"\n",{"c":["Added ",{"c":"selectedMove: history.length","t":"code"}," in the ",{"c":"handleClick()","t":"code"}," function to make sure when a new move is added it becomes bold"],"t":"li"},"\n",{"c":["added the following line in the ",{"c":"this.setState({})","t":"code"},"call in the  ",{"c":"jumpTo(step)","t":"code"}," function ",{"c":"selectedMove : step","t":"code"},";"],"t":"li"},"\n",{"c":["changed the game ",{"c":"render()","t":"code"}," function to include"],"t":"li"},"\n"],"t":"ol"},"\n",{"c":{"c":"var liStyle = {\n    fontWeight: \"normal\"\n};\nif (this.state.selectedMove === move) {\n    liStyle[\"fontWeight\"] = \"bold\";\n}\nreturn (\n    <li key={move}>\n      <a href=\"#\" style={liStyle} onClick={() => this.jumpTo(move)}>\n        {desc}\n      </a>\n    </li>\n);\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":[{"c":"#","p":{"href":"#how-i-did-a-nested-loop-in-jsx","className":"phenomic-HeadingAnchor"},"t":"a"},"How I did a nested loop in jsx"],"p":{"id":"how-i-did-a-nested-loop-in-jsx"},"t":"h2"},"\n",{"c":{"c":"{Array.apply(null, Array(3)).map(function(item, i) {\n  return (\n    <div className=\"board-row\">\n      {Array.apply(null, Array(3)).map(function(item, j) {\n        return this.renderSquare(i * 3 + j);\n      }, this)}\n    </div>\n  );\n}, this)}\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":[{"c":"#","p":{"href":"#how-i-highlighted-the-winning-moves","className":"phenomic-HeadingAnchor"},"t":"a"},"How I highlighted the winning moves"],"p":{"id":"how-i-highlighted-the-winning-moves"},"t":"h2"},"\n",{"c":["\n",{"c":["\n",{"c":["Had ",{"c":"calculateWinner()","t":"code"}," function return the value ",{"c":"square[a]","t":"code"}," for each winning move as well as the index of the winning squares ",{"c":"lines[i]","t":"code"},"."],"t":"p"},"\n"],"t":"li"},"\n",{"c":["\n",{"c":["Added props to keep track of which squares were winning moves from ",{"c":"calculateWinner","t":"code"},". Passed them to the board constructor which then passed those props to each square."],"t":"p"},"\n"],"t":"li"},"\n",{"c":["\n",{"c":"Conditionally set the style of each square based on the props of each square being a winner or not.\nMy square component now looks like this:","t":"p"},"\n"],"t":"li"},"\n"],"t":"ol"},"\n",{"c":{"c":"function Square(props) {\n  let myStyle;\n  if (props.isWinner && props.isWinner.includes(props.squareNum)) {\n    myStyle = {\n      color: \"#00d8ff\"\n    };\n  } else {\n    myStyle = { color: \"black\" };\n  }\n  return (\n    <button className=\"square\" onClick={props.onClick} style={myStyle}>\n      {props.value}\n    </button>\n  );\n}\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"}],"t":"div"},"key":"2017-06-28-2017-06-28"},{"id":"2017-06-10","date":"06/10/17","title":"Learn with LaForest Notes","desc":"Notes from my development of my classroom website. Includes service worker, CORS, and firebase gotchas.","tags":"firebase, service-worker","author":"Scott LaForest","body":{"c":[{"c":[{"c":"#","p":{"href":"#learn-with-laforest","className":"phenomic-HeadingAnchor"},"t":"a"},"Learn with LaForest"],"p":{"id":"learn-with-laforest"},"t":"h1"},"\n",{"c":["This repository is my first attempt at a progressive web app. This app is my classroom website (I currently teach high school math and engineering). The app is hosted on firebase, ",{"c":"Learn with LaForest","p":{"href":"https://learn-with-laforest.firebaseapp.com/"},"t":"a"},", for the ease of deployment and data storage as well as PWA requirements of HTTP/2 and HTTPS default on firebase."],"t":"p"},"\n",{"c":[{"c":"#","p":{"href":"#trials-and-triumphs","className":"phenomic-HeadingAnchor"},"t":"a"},"Trials and Triumphs"],"p":{"id":"trials-and-triumphs"},"t":"h1"},"\n",{"c":["\n",{"c":["Implementing switching between classes via the menu button was my first challenge as I had a hard time getting the ",{"c":"addEventListener()","t":"code"}," method to work correctly and pass the ",{"c":"this","t":"code"}," value as well as a parameter. After researching more on the ",{"c":"bind()","t":"code"}," method I realized that I can add args after the ",{"c":"this","t":"code"}," parameter which will be prepended to the bound method. So for each menu item I passed the corresponding class name after the ",{"c":"this","t":"code"}," parameter.  Example"],"t":"li"},"\n"],"t":"ul"},"\n",{"c":{"c":" this.showAlg1 = document.getElementById('showAlg1')\n this.showAlg1.addEventListener('click', this.clickedOn.bind(this, \"Alg1\"));\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":["\n",{"c":["Service-worker: CDNs at getmdl.io are not CORS supported. So I had to manually fetch them and then cache them thanks to the answer here by Jeff Posnick on ",{"c":"StackOverflow","p":{"href":"https://stackoverflow.com/questions/39109789/what-limitations-apply-to-opaque-responses/39109790#39109790"},"t":"a"},".\nExample"],"t":"li"},"\n"],"t":"ul"},"\n",{"c":{"c":"const request = new Request('https://code.getmdl.io/1.3.0/material.deep_purple-yellow.min.css', {mode: 'no-cors'});\nfetch(request).then(response => cache.put(request, response));\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":["\n",{"c":["\n",{"c":["Firebase DB- TIL that firebase saves data locally on all firebase clients ",{"c":"Firebase offline","p":{"href":"https://firebase.google.com/docs/database/web/read-and-write#write_data_offline"},"t":"a"}," . I was going to make a fetch then cache fetch event for the firebase databas url but this default functionality seems to work fine for offline."],"t":"p"},"\n"],"t":"li"},"\n",{"c":["\n",{"c":"Struggling getting firebase messagine working with topics. First was using API key instead of SERVER_KEY which led to 401 responses. And also needed to prepend key= in the request header for the google iid api. Still receiving empty object for response on checking current topics.","t":"p"},"\n"],"t":"li"},"\n",{"c":["\n",{"c":["In order to show admin link only to admin (me) I created a child in the firebase db of ",{"c":"isAdmin","t":"code"},". The isAdmin child has children nodes for eadh admin id. I can then check the signed in user's id against the database."],"t":"p"},"\n",{"c":{"c":"this.database.ref('/isAdmin/').once('value').then(function(snapshot) {\n  snapshot.forEach(function(childSnapshot) {\n        if (childSnapshot.key.replace(/\\\"/g, \"\") === userId) {\n          console.log(\"isAdmin\");\n          document.getElementById('showAdmin').removeAttribute(\"hidden\");\n        }\n        else{\n          document.getElementById('showAdmin').setAttribute('hidden', 'true');\n        }\n    });\n});\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n"],"t":"li"},"\n"],"t":"ul"}],"t":"div"},"key":"2017-06-10-2017-06-10"},{"id":"2017-06-08","date":"06/08/17","title":"You Don't Know JS Part 6","desc":"Notes on the sixth day of reading through You Don't Know JS. Includes object creation.","tags":"YDKJS","author":"Scott LaForest","body":{"c":[{"c":["All examples and notes are taken from the excellent and free to ",{"c":"read (online)","p":{"href":"https://github.com/getify/You-Dont-Know-JS"},"t":"a"}," series of books titled ",{"c":"You Don't Know JS","t":"em"}," by Kyle Simpson."],"t":"p"},"\n",{"c":[{"c":"#","p":{"href":"#objects","className":"phenomic-HeadingAnchor"},"t":"a"},"Objects"],"p":{"id":"objects"},"t":"h3"},"\n",{"c":["The literal syntax for an object looks like this: ",{"c":"more popular","t":"strong"}],"t":"p"},"\n",{"c":{"c":"var myObj = {\n    key: value\n    // ...\n};\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":"The constructed form looks like this:","t":"p"},"\n",{"c":{"c":"var myObj = new Object();\nmyObj.key = value;\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"}],"t":"div"},"key":"2017-06-08-2017-06-08"},{"id":"2017-06-06","date":"06/06/17","title":"You Don't Know JS Part 5","desc":"Notes on the fifth day of reading through You Don't Know JS. Includes more on closure, more on modules, and a lot on this.","tags":"YDKJS","author":"Scott LaForest","body":{"c":[{"c":["All examples and notes are taken from the excellent and free to ",{"c":"read (online)","p":{"href":"https://github.com/getify/You-Dont-Know-JS"},"t":"a"}," series of books titled ",{"c":"You Don't Know JS","t":"em"}," by Kyle Simpson."],"t":"p"},"\n",{"c":[{"c":"#","p":{"href":"#6617","className":"phenomic-HeadingAnchor"},"t":"a"},"6/6/17"],"p":{"id":"6617"},"t":"h2"},"\n",{"c":[{"c":"#","p":{"href":"#more-on-closure","className":"phenomic-HeadingAnchor"},"t":"a"},"More on Closure"],"p":{"id":"more-on-closure"},"t":"h3"},"\n",{"c":"Closure is when a function is able to remember and access its lexical scope even when that function is executing outside its lexical scope.","t":"p"},"\n",{"c":[{"c":"#","p":{"href":"#more-on-modules","className":"phenomic-HeadingAnchor"},"t":"a"},"More on Modules"],"p":{"id":"more-on-modules"},"t":"h3"},"\n",{"c":["Below is an example of a \"Revealing Module\". Requirements for modules:\n1. It is just a function and must be invoked for every instance. ",{"c":"There must be an outer enclosing function, and it must be invoked at least once (each time creates a new module instance).","t":"em"},"\n2. Returns an object ",{"c":"{key:value,...}","t":"code"}," with access to the 'public' functions but not the inner 'private' variables. Performs like a public API. ",{"c":"The enclosing function must return back at least one inner function, so that this inner function has closure over the private scope, and can access and/or modify that private state.","t":"em"}],"t":"p"},"\n",{"c":{"c":"    var something = \"cool\";\n    var another = [1, 2, 3];\n\n    function doSomething() {\n        console.log( something );\n    }\n\n    function doAnother() {\n        console.log( another.join( \" ! \" ) );\n    }\n\n    return {\n        doSomething: doSomething,\n        doAnother: doAnother\n    };\n}\n\nvar foo = CoolModule();\n\nfoo.doSomething(); // cool\nfoo.doAnother(); // 1 ! 2 ! 3\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":"Turn the function into an IIFE to create singleton objects.","t":"p"},"\n",{"c":{"c":"var foo = (function CoolModule() {\n    var something = \"cool\";\n    var another = [1, 2, 3];\n\n    function doSomething() {\n        console.log( something );\n    }\n\n    function doAnother() {\n        console.log( another.join( \" ! \" ) );\n    }\n\n    return {\n        doSomething: doSomething,\n        doAnother: doAnother\n    };\n})();\n\nfoo.doSomething(); // cool\nfoo.doAnother(); // 1 ! 2 ! 3\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":[{"c":"#","p":{"href":"#this","className":"phenomic-HeadingAnchor"},"t":"a"},"this"],"p":{"id":"this"},"t":"h3"},"\n",{"c":[" ",{"c":[{"c":"this","t":"code"}," is neither a reference to the function itself, nor is it a reference to the function's lexical scope"],"t":"strong"},"."],"t":"p"},"\n",{"c":[{"c":"this","t":"code"}," is actually a binding that is made when a function is invoked, and what it ",{"c":"references is determined entirely by the call-site where the function is called.","t":"strong"}],"t":"p"},"\n",{"c":{"c":"function baz() {\n    // call-stack is: `baz`\n    // so, our call-site is in the global scope\n\n    console.log( \"baz\" );\n    bar(); // <-- call-site for `bar`\n}\n\nfunction bar() {\n    // call-stack is: `baz` -> `bar`\n    // so, our call-site is in `baz`\n\n    console.log( \"bar\" );\n    foo(); // <-- call-site for `foo`\n}\n\nfunction foo() {\n    // call-stack is: `baz` -> `bar` -> `foo`\n    // so, our call-site is in `bar`\n\n    console.log( \"foo\" );\n}\n\nbaz(); // <-- call-site for `baz`\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":"Take care when analyzing code to find the actual call-site (from the call-stack), because it's the only thing that matters for this binding.","t":"p"},"\n",{"c":[{"c":"#","p":{"href":"#this-binding-rules","className":"phenomic-HeadingAnchor"},"t":"a"},"this Binding rules"],"p":{"id":"this-binding-rules"},"t":"h3"},"\n",{"c":["\n",{"c":["\n",{"c":"Default Binding: The default rule when all others do not apply.","t":"p"},"\n",{"c":{"c":"function foo() {\n            console.log( this.a );\n}\n\nvar a = 2;\n\nfoo(); // 2\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":["Notice when ",{"c":"foo()","t":"code"}," is called, ",{"c":"this.a","t":"code"}," resolves to our global variable a. Why? Because in this case, the default binding for ",{"c":"this","t":"code"}," applies to the function call, and so points ",{"c":"this","t":"code"}," at the global object."],"t":"p"},"\n",{"c":["If ",{"c":"strict","t":"code"}," mode is in effect, the global object is not eligible for the default binding, so the ",{"c":"this","t":"code"}," is instead set to undefined."],"t":"p"},"\n"],"t":"li"},"\n",{"c":["\n",{"c":"Implicit Binding (Left of the dot): Does the call-site have a context object, also referred to as an owning or containing object.","t":"p"},"\n",{"c":{"c":"function foo() {\n    console.log( this.a );\n}\n\nvar obj = {\n    a: 2,\n    foo: foo\n};\n\nobj.foo(); // 2\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":["The call-site uses the ",{"c":"obj","t":"code"}," context to reference the function, so you could say that the ",{"c":"obj","t":"code"}," object \"owns\" or \"contains\" the function reference at the time the function is called."],"t":"p"},"\n",{"c":["Because ",{"c":"obj","t":"code"}," is the ",{"c":"this","t":"code"}," for the ",{"c":"foo()","t":"code"}," call, ",{"c":"this.a","t":"code"}," is synonymous with obj.a."],"t":"p"},"\n"],"t":"li"},"\n",{"c":["\n",{"c":["Explicit Binding: Directly stating what the ",{"c":"this","t":"code"}," should be using either ",{"c":"call()","t":"code"},", ",{"c":"apply()","t":"code"},", or even ",{"c":"bind()","t":"code"},"."],"t":"p"},"\n",{"c":[{"c":"bind()","t":"code"}," returns a function which will act like the original function but with ",{"c":"this","t":"code"}," predefined. It is usually used when you want to pass a function to an event handler or other async callback."],"t":"p"},"\n",{"c":[{"c":"call()","t":"code"}," and ",{"c":"apply()","t":"code"}," will call a function immediately letting you specify both the value of ",{"c":"this","t":"code"}," and any arguments the function will receive. Difference between ",{"c":"call()","t":"code"}," and ",{"c":"apply()","t":"code"}," is both accept additional parameters but ",{"c":"call()","t":"code"}," must specify each additional parameter separated by a comma. Whereas ",{"c":"apply()","t":"code"}," can pass in an array of additional parameters."],"t":"p"},"\n"],"t":"li"},"\n",{"c":["\n",{"c":["New Binding: Using the ",{"c":"new","t":"code"}," operator when creating a new variable. This does four things:"],"t":"p"},"\n",{"c":["\n",{"c":"Creates a brand new object (aka, constructed) out of thin air","t":"li"},"\n",{"c":["The newly constructed object is [","[","Prototype","]","]-linked"],"t":"li"},"\n",{"c":["The newly constructed object is set as the ",{"c":"this","t":"code"}," binding for that function call"],"t":"li"},"\n",{"c":"Unless the function returns its own alternate object, the new-invoked function call will automatically return the newly constructed object.","t":"li"},"\n"],"t":"ol"},"\n"],"t":"li"},"\n"],"t":"ol"},"\n",{"c":{"c":"    function foo(a) {\n        this.a = a;\n    }\n\n    var bar = new foo( 2 );\n    console.log( bar.a ); // 2\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":[{"c":"#","p":{"href":"#determining-this","className":"phenomic-HeadingAnchor"},"t":"a"},"Determining this"],"p":{"id":"determining-this"},"t":"h3"},"\n",{"c":["\n",{"c":["\n",{"c":"Is the function called with new (new binding)? If so, this is the newly constructed object.","t":"p"},"\n",{"c":{"c":"var bar = new foo()","t":"code"},"t":"p"},"\n"],"t":"li"},"\n",{"c":["\n",{"c":["Is the function called with ",{"c":"call","t":"code"}," or ",{"c":"apply","t":"code"}," (explicit binding), even hidden inside a ",{"c":"bind","t":"code"}," hard binding? If so, ",{"c":"this","t":"code"}," is the explicitly specified object."],"t":"p"},"\n",{"c":{"c":"var bar = foo.call( obj2 )","t":"code"},"t":"p"},"\n"],"t":"li"},"\n",{"c":["\n",{"c":["Is the function called with a context (implicit binding), otherwise known as an owning or containing object? If so, ",{"c":"this","t":"code"}," is that context object."],"t":"p"},"\n",{"c":{"c":"var bar = obj1.foo()","t":"code"},"t":"p"},"\n"],"t":"li"},"\n",{"c":["\n",{"c":["Otherwise, default the ",{"c":"this","t":"code"}," (default binding). If in ",{"c":"strict mode","t":"code"},", pick undefined, otherwise pick the global object."],"t":"p"},"\n",{"c":{"c":"var bar = foo()","t":"code"},"t":"p"},"\n"],"t":"li"},"\n"],"t":"ol"}],"t":"div"},"key":"2017-06-06-2017-06-06"},{"id":"2017-06-05","date":"06/05/17","title":"You Don't Know JS Part 4","desc":"Notes on the fourth day of reading through You Don't Know JS. Includes strict mode, scope, and let.","tags":"YDKJS","author":"Scott LaForest","body":{"c":[{"c":["All examples and notes are taken from the excellent and free to ",{"c":"read (online)","p":{"href":"https://github.com/getify/You-Dont-Know-JS"},"t":"a"}," series of books titled ",{"c":"You Don't Know JS","t":"em"}," by Kyle Simpson."],"t":"p"},"\n",{"c":[{"c":"#","p":{"href":"#6517","className":"phenomic-HeadingAnchor"},"t":"a"},"6/5/17"],"p":{"id":"6517"},"t":"h2"},"\n",{"c":[{"c":"#","p":{"href":"#scope","className":"phenomic-HeadingAnchor"},"t":"a"},"Scope"],"p":{"id":"scope"},"t":"h3"},"\n",{"c":[{"c":"use strict mode","t":"em"}," it seems safer ",{"c":"use strict","t":"code"}," it avoids the auto creation of a new variable in the global scope."],"t":"p"},"\n",{"c":[{"c":"ReferenceError","t":"code"}," is Scope resolution-failure related, whereas ",{"c":"TypeError","t":"code"}," implies that Scope resolution was successful, but that there was an illegal/impossible action attempted against the result."],"t":"p"},"\n",{"c":{"c":"Scope look-up stops once it finds the first match.","t":"strong"},"t":"p"},"\n",{"c":{"c":"function foo(a) {\n    var b = 2;\n\n    // some code\n\n    function bar() {\n        // ...\n    }\n\n    // more code\n\n    var c = 3;\n}\n","p":{"className":"language-javascript"},"t":"code"},"t":"pre"},"\n",{"c":["Because ",{"c":"a","t":"code"},", ",{"c":"b","t":"code"},", ",{"c":"c","t":"code"},", and ",{"c":"bar","t":"code"}," all belong to the scope bubble of ",{"c":"foo(..)","t":"code"},", they are not accessible outside of ",{"c":"foo(..)","t":"code"},"."],"t":"p"},"\n",{"c":"However, all these identifiers (a, b, c, foo, and bar) are accessible inside of foo(..), and indeed also available inside of bar(..) (assuming there are no shadow identifier declarations inside bar(..)).","t":"p"},"\n",{"c":[{"c":"Do not use anonymous functions","t":"strong"}," i.e. ",{"c":"function(){...}","t":"code"}," instead use:"],"t":"p"},"\n",{"c":[{"c":"Inline function expressions","t":"strong"}," ",{"c":"function name(){...}","t":"code"},"are powerful and useful -- the question of anonymous vs. named doesn't detract from that. Providing a name for your function expression quite effectively addresses all these draw-backs, but has no tangible downsides. The best practice is to always name your function expressions:"],"t":"p"},"\n",{"c":[{"c":"#","p":{"href":"#let","className":"phenomic-HeadingAnchor"},"t":"a"},"let"],"p":{"id":"let"},"t":"h3"},"\n",{"c":"i.e. block scoping like most other languages.","t":"p"},"\n",{"c":["The ",{"c":"let","t":"code"}," keyword attaches the variable declaration to the scope of whatever block (commonly a { .. } pair) it's contained in. In other words, ",{"c":"let","t":"code"}," implicitly hijacks any block's scope for its variable declaration."],"t":"p"}],"t":"div"},"key":"2017-06-05-2017-06-05"}]}}}</script><script src="/phenomic.main.js" async=""></script></body></html>